# Используем официальный образ Node.js в качестве базового для сборки и запуска
FROM node:20

# Устанавливаем рабочую директорию внутри контейнера
WORKDIR /app

# Копируем файлы package.json и package-lock.json (если есть)
COPY package.json package-lock.json ./

# Устанавливаем все зависимости
RUN npm install

# Копируем оставшуюся часть исходного кода приложения
COPY . .

# Сборка приложения (если необходимо)
RUN npm run build

# Открываем необходимый порт (предположительно 3000, если ваше приложение его использует)
EXPOSE 3000

# Команда запуска сервера
CMD ["npm", "run", "start"]
